{
  "openapi": "3.0.1",
  "info": {
    "title": "Vidau API",
    "description": "AI Media Generation Platform API",
    "version": "1.0.0",
    "contact": {
      "name": "API Support",
      "url": "https://vidau.ai/support",
      "email": "api@vidau.ai"
    }
  },
  "tags": [
    {
      "name": "text-to-image",
      "description": "Text to Image Generation APIs"
    },
    {
      "name": "image-to-video",
      "description": "Image to Video Generation APIs"
    }
  ],
  "paths": {
    "/v1/image/push": {
      "post": {
        "summary": "Create Image Generation Task",
        "description": "Create a new image generation task based on text prompts",
        "tags": ["text-to-image"],
        "parameters": [
          {
            "name": "client-id",
            "in": "header",
            "description": "Client ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device",
            "in": "header",
            "description": "Device type",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device-id",
            "in": "header",
            "description": "Device ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "header",
            "description": "Language",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "priority",
            "in": "header",
            "description": "Priority",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "description": "Content Type",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "prompt": {
                    "type": "string",
                    "description": "Text prompt for image generation"
                  },
                  "quantity": {
                    "type": "integer",
                    "description": "Number of images to generate"
                  },
                  "ratio": {
                    "type": "string",
                    "description": "Image aspect ratio"
                  },
                  "seed": {
                    "type": "integer",
                    "description": "Random seed for reproducibility"
                  },
                  "imageUrl": {
                    "type": "string",
                    "description": "Reference image URL"
                  },
                  "promptUpsampling": {
                    "type": "boolean",
                    "description": "Whether to upsample the prompt"
                  }
                },
                "required": [
                  "prompt",
                  "quantity",
                  "ratio",
                  "seed",
                  "imageUrl",
                  "promptUpsampling"
                ]
              },
              "example": {
                "prompt": "A dog flying in the sky",
                "ratio": "9:16",
                "quantity": 1,
                "promptUpsampling": false,
                "seed": 12345,
                "imageUrl": "https://res-test.superads.cn/upload/ai_image/b7/b7079d8ca793445ae2c01b2a6a080c5b.png"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ts": {
                      "type": "integer",
                      "description": "Timestamp"
                    },
                    "requestNo": {
                      "type": "string",
                      "description": "Request number"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "taskId": {
                          "type": "string",
                          "description": "Task ID"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "creativeHisId": {
                                "type": "integer",
                                "description": "Creative history ID"
                              },
                              "status": {
                                "type": "integer",
                                "description": "Task status"
                              }
                            }
                          }
                        },
                        "taskStatus": {
                          "type": "integer",
                          "description": "Overall task status"
                        }
                      }
                    },
                    "code": {
                      "type": "integer",
                      "description": "Response code"
                    },
                    "msg": {
                      "type": "string",
                      "description": "Response message"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/image/queryTasks": {
      "post": {
        "summary": "Query Image Generation Tasks",
        "description": "Query the status of image generation tasks",
        "tags": ["text-to-image"],
        "parameters": [
          {
            "name": "client-id",
            "in": "header",
            "description": "Client ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device",
            "in": "header",
            "description": "Device type",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device-id",
            "in": "header",
            "description": "Device ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "header",
            "description": "Language",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "priority",
            "in": "header",
            "description": "Priority",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "description": "Content Type",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "taskId": {
                    "type": "string",
                    "description": "Task ID to query"
                  }
                },
                "required": ["taskId"]
              },
              "example": {
                "taskId": "task_123456"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Query successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ts": {
                      "type": "integer",
                      "description": "Timestamp"
                    },
                    "requestNo": {
                      "type": "string",
                      "description": "Request number"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "taskId": {
                          "type": "string",
                          "description": "Task ID"
                        },
                        "params": {
                          "type": "object",
                          "properties": {
                            "promptUpsampling": {
                              "type": "boolean"
                            },
                            "quantity": {
                              "type": "integer"
                            },
                            "seed": {
                              "type": "integer"
                            },
                            "prompt": {
                              "type": "string"
                            },
                            "ratio": {
                              "type": "string"
                            }
                          }
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "creativeHisId": {
                                "type": "integer"
                              },
                              "filePath": {
                                "type": "string"
                              },
                              "status": {
                                "type": "integer"
                              },
                              "taskId": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "taskStatus": {
                          "type": "integer",
                          "description": "Task status"
                        }
                      }
                    },
                    "code": {
                      "type": "integer",
                      "description": "Response code"
                    },
                    "msg": {
                      "type": "string",
                      "description": "Response message"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/i2v/push": {
      "post": {
        "summary": "Create Image to Video Task",
        "description": "Create a video generation task from an image",
        "tags": ["image-to-video"],
        "parameters": [
          {
            "name": "content-type",
            "in": "header",
            "description": "Content Type",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device",
            "in": "header",
            "description": "Device type",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "image_url": {
                    "type": "string",
                    "description": "Source image URL"
                  },
                  "animation_prompt": {
                    "type": "string",
                    "description": "Animation description"
                  },
                  "background_prompt": {
                    "type": "string",
                    "description": "Background description"
                  },
                  "video_nums": {
                    "type": "integer",
                    "description": "Number of videos to generate"
                  }
                },
                "required": [
                  "image_url",
                  "animation_prompt",
                  "background_prompt",
                  "video_nums"
                ]
              },
              "example": {
                "image_url": "https://res-test.superads.cn/upload/p2v_upload/32/32b0f896baa7710bfb2ca741ec433e3b.jpg",
                "animation_prompt": "Image to video conversion",
                "background_prompt": "Lush greenery, Waterfront views, Sea cliffs",
                "video_nums": 1
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ts": {
                      "type": "integer",
                      "description": "Timestamp"
                    },
                    "requestNo": {
                      "type": "string",
                      "description": "Request number"
                    },
                    "data": {
                      "type": "object",
                      "description": "Task data"
                    },
                    "code": {
                      "type": "integer",
                      "description": "Response code"
                    },
                    "msg": {
                      "type": "string",
                      "description": "Response message"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/i2v/list": {
      "get": {
        "summary": "List Image to Video Tasks",
        "description": "Get a list of image to video conversion tasks",
        "tags": ["image-to-video"],
        "parameters": [
          {
            "name": "client-id",
            "in": "header",
            "description": "Client ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device",
            "in": "header",
            "description": "Device type",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "device-id",
            "in": "header",
            "description": "Device ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lang",
            "in": "header",
            "description": "Language",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "priority",
            "in": "header",
            "description": "Priority",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ts": {
                      "type": "integer",
                      "description": "Timestamp"
                    },
                    "requestNo": {
                      "type": "string",
                      "description": "Request number"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "all_completed": {
                          "type": "boolean",
                          "description": "Whether all tasks are completed"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "thumb_url": {
                                "type": "string",
                                "description": "Thumbnail URL"
                              },
                              "file_url": {
                                "type": "string",
                                "description": "File URL"
                              },
                              "creation_name": {
                                "type": "string",
                                "description": "Creation name"
                              },
                              "post_data": {
                                "type": "string",
                                "description": "Post data"
                              },
                              "created_at": {
                                "type": "string",
                                "description": "Creation time"
                              },
                              "task_id": {
                                "type": "string",
                                "description": "Task ID"
                              },
                              "id": {
                                "type": "integer",
                                "description": "ID"
                              },
                              "progress_bar": {
                                "type": "integer",
                                "description": "Progress percentage"
                              },
                              "status": {
                                "type": "integer",
                                "description": "Task status"
                              }
                            }
                          }
                        }
                      }
                    },
                    "code": {
                      "type": "integer",
                      "description": "Response code"
                    },
                    "msg": {
                      "type": "string",
                      "description": "Response message"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "https://api.vidau.ai",
      "description": "Production API server"
    }
  ]
}
